{"version":3,"sources":["components/imageGalleryItem/ImageItem.module.css","components/modal/Modal.module.css","components/imageGallery/Image.module.css","components/button/Button.module.css","components/searchBar/SearchBar.module.css","components/searchBar/SearchBar.js","components/imageGallery/ImageGallery.js","components/imageGalleryItem/ImageGalleryItem.js","components/button/Button.js","components/modal/Modal.js","api/api.js","AppHook.js","index.js"],"names":["module","exports","SearchBar","onSubmit","useState","imageName","setImageName","className","styles","searchbar","searchForm","evt","preventDefault","type","buttons","label","input","autoComplete","autoFocus","placeholder","value","onChange","target","ImageGallery","children","imageGallery","ImageGalleryItem","pictureId","srcWebformat","onClick","src","alt","image","Button","button","modalRoot","document","querySelector","Modal","toggleModal","handleKeydown","e","code","useEffect","window","addEventListener","removeEventListener","createPortal","overlay","currentTarget","modal","axios","defaults","baseURL","App","pictures","setPictures","request","setRequest","currentPage","setCurrentPage","largeImageURL","setLargeImageURL","isModalOpen","setIsModalOpen","isLoading","setIsLoading","error","setError","fetchImages","scrollTo","top","documentElement","scrollHeight","behavior","option","pageSize","get","then","response","data","hits","api","picturesArr","catch","finally","prevState","shouldRenderLoadMoreButton","length","query","map","id","webformatURL","color","height","width","timeout","ReactDOM","render","StrictMode","AppHook","getElementById"],"mappings":"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","file":"static/js/main.fff1d450.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageItem_image__dKoKd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1jD-4\",\"modal\":\"Modal_modal__mu8z3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"Image_imageGallery__3vuIo\",\"imageGalleryItem\":\"Image_imageGalleryItem__38Epl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1y9mO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchBar_searchbar__25AJL\",\"searchForm\":\"SearchBar_searchForm__1VSX2\",\"buttons\":\"SearchBar_buttons__2qgJq\",\"button\":\"SearchBar_button__94Rsb\",\"label\":\"SearchBar_label__1qrbX\",\"input\":\"SearchBar_input__1rAj0\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './SearchBar.module.css';\r\n\r\nconst SearchBar = ({ onSubmit }) => {\r\n  const [imageName, setImageName] = useState(\"\");\r\n\r\n  const handleChange = (evt) => {\r\n    setImageName(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    onSubmit(imageName);\r\n  };\r\n\r\n  return (\r\n    <header className={styles.searchbar}>\r\n    <form className={styles.searchForm} onSubmit={handleSubmit}>\r\n      <button type=\"submit\" className={styles.buttons}>\r\n        <span className={styles.label}>Search</span>\r\n      </button>\r\n      <input\r\n        className={styles.input}\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"\r\n        value={imageName}\r\n        onChange={handleChange}\r\n      />\r\n    </form>\r\n  </header>\r\n  );\r\n};\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\nexport default SearchBar;","import styles from './Image.module.css';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className={styles.imageGallery}>{children}</ul>;\r\n};\r\n\r\nexport default ImageGallery;","import styles from './ImageItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ pictureId, srcWebformat, onClick }) => {\r\n  return (\r\n    <li className={styles.imageGallery} onClick={onClick}>\r\n      <img src={srcWebformat} alt=\"\" className={styles.image} />\r\n    </li>\r\n  );\r\n};\r\nexport default ImageGalleryItem;","import PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button className={styles.button} type=\"button\" onClick={onClick}>\r\n      Load more...\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import { useEffect} from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nconst Modal = ({ toggleModal, children }) => {\r\n  const handleKeydown = (e) => {\r\n    if(e.code === \"Escape\") {\r\n      toggleModal();\r\n    }\r\n  };\r\n  \r\n  const handleClickBackdrop = (e) => {\r\n    if(e.target === e.currentTarget) {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeydown);\r\n    return () => {\r\n    window.removeEventListener(\"keydown\", handleKeydown);\r\n    }\r\n  });\r\n\r\n\r\n  return createPortal(\r\n    <div className={styles.overlay} onClick={handleClickBackdrop}>\r\n      <div className={styles.modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n    );\r\n  };\r\n\r\n  Modal.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  export default Modal;","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\nconst API_KEY = '22314641-3a8c963c3e0001805b4ad30fd';\r\n\r\nconst fetchImages = ({ request = \"\", currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `/?key=${API_KEY}&q=${request}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport { fetchImages };","import React, { useEffect, useState } from \"react\";\r\nimport SearchBar from './components/searchBar/SearchBar';\r\nimport ImageGallery from \"./components/imageGallery/ImageGallery\";\r\nimport ImageGalleryItem from \"./components/imageGalleryItem/ImageGalleryItem\";\r\nimport Button from \"./components/button/Button\";\r\nimport Modal from \"./components/modal/Modal\";\r\nimport * as api from \"./api/api\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst App = () => {\r\n  const [pictures, setPictures] = useState([]);\r\n  const [request, setRequest] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!request) {\r\n      return;\r\n    }\r\n    fetchImages();\r\n  }, [request]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }, [pictures]);\r\n\r\n  const onChangeRequest = (query) => {\r\n    setPictures([]);\r\n    setRequest(query);\r\n    setCurrentPage(1);\r\n    setError(null);\r\n  };\r\n\r\n  const fetchImages = () => {\r\n    const option = { request, currentPage };\r\n    setIsLoading(true);\r\n    api\r\n      .fetchImages(option)\r\n      .then(\r\n        (picturesArr) => setPictures([...pictures, ...picturesArr]),\r\n        setCurrentPage(currentPage + 1)\r\n      )\r\n      .catch((error) => setError(error))\r\n      .finally(() => setIsLoading(false));\r\n  };\r\n\r\n  const onPictureClick = (url) => {\r\n    setLargeImageURL(url);\r\n    toggleModal();\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setIsModalOpen((prevState) => !prevState);\r\n  };\r\n\r\n  const shouldRenderLoadMoreButton = pictures.length > 0 && !isLoading;\r\n  return (\r\n    <>\r\n      <SearchBar onSubmit={onChangeRequest}></SearchBar>\r\n      {error && <p>Sorry! Somethimg went wrong. Try again, please!</p>}\r\n      <ImageGallery>\r\n        {pictures.map(({ id, webformatURL, largeImageURL }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            srcWebformat={webformatURL}\r\n            pictureId={id}\r\n            onClick={() => onPictureClick(largeImageURL)}\r\n          />\r\n        ))}\r\n      </ImageGallery>\r\n      {isModalOpen && (\r\n        <Modal toggleModal={toggleModal}>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </Modal>\r\n      )}\r\n      {isLoading && (\r\n        <Loader\r\n          type=\"ThreeDots\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={3000} //3 secs\r\n        />\r\n      )}\r\n      {shouldRenderLoadMoreButton && <Button  onClick={fetchImages} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n//import App from './App';\nimport AppHook from './AppHook';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppHook />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}